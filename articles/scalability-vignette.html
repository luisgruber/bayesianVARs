<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Scalability of bayesianVARs • bayesianVARs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="scalability-vignette_files/libs/quarto-html/popper.min.js"></script><script src="scalability-vignette_files/libs/quarto-html/tippy.umd.min.js"></script><link href="scalability-vignette_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="scalability-vignette_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Scalability of bayesianVARs">
<meta property="og:image" content="https://luisgruber.github.io/bayesianVARs/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bayesianVARs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.7.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/bayesianVARs-vignette.pdf">Shrinkage Priors for Bayesian Vectorautoregressions featuring Stochastic Volatility Using the **R** Package **bayesianVARs** (PDF)</a></li>
    <li><a class="dropdown-item" href="../articles/irf-vignette.html">Compute Impulse Response Functions to Structural Shocks using **bayesianVARs**</a></li>
    <li><a class="dropdown-item" href="../articles/scalability-vignette.html">Scalability of bayesianVARs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/luisgruber/bayesianVARs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Scalability of bayesianVARs</h1>

      <p class="author">Luis Gruber</p>


      <small class="dont-index">Source: <a href="https://github.com/luisgruber/bayesianVARs/blob/main/vignettes/scalability-vignette.qmd" class="external-link"><code>vignettes/scalability-vignette.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/luisgruber/bayesianVARs" class="external-link">bayesianVARs</a></span><span class="op">)</span></span></code></pre></div>
</div>
<!-- ::: {.callout-note} -->
<p><strong>This vignette only deals with the computational complexity of the implemented algorithms. It does not cover sampling efficiency in terms of mixing.</strong> <!-- ::: --></p>
<p>bayesianVARs’ <code><a href="../reference/bvar.html">bvar()</a></code> implements state of the art Markov Chain Monte Carlo (MCMC) algorithms for posterior estimation of Bayesian vectorautoregressions (VARs). The computational complexity of those algorithms depends on the configuration of the error variance-covariance matrix which is specified through the function argument <code>prior_sigma</code>. This argument expects a <code>bayesianVARs_prior_sigma</code> object which can be conveniently created using the helper function <code><a href="../reference/specify_prior_sigma.html">specify_prior_sigma()</a></code>.</p>
<section class="level2"><h2 id="factor-specification">Factor specification<a class="anchor" aria-label="anchor" href="#factor-specification"></a>
</h2>
<p>The factor structure on the errors is achieved by setting <code><a href="../reference/specify_prior_sigma.html">specify_prior_sigma()</a></code>’s argument <code>type = "factor"</code>. The following code snippet is a minimal working example of estimating a VAR featuring stochastic volatility with a factor structure on the errors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">321</span><span class="op">)</span></span>
<span><span class="co"># Simulate data</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">50L</span> <span class="co"># number of observations</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">3L</span> <span class="co"># number of time series</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">*</span><span class="va">M</span><span class="op">)</span>, <span class="va">n</span>, <span class="va">M</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">M</span><span class="op">)</span></span>
<span><span class="co"># Estimate a VAR with a factor structure on the errors</span></span>
<span><span class="va">prior_sigma_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/specify_prior_sigma.html">specify_prior_sigma</a></span><span class="op">(</span><span class="va">Y</span>, type <span class="op">=</span> <span class="st">"factor"</span><span class="op">)</span></span>
<span><span class="va">mod_f1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvar.html">bvar</a></span><span class="op">(</span><span class="va">Y</span>, draws <span class="op">=</span> <span class="fl">50L</span>, burnin <span class="op">=</span> <span class="fl">5L</span>, prior_sigma <span class="op">=</span> <span class="va">prior_sigma_f</span>,</span>
<span>            quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p>For the factor specification bayesianVARs implements the conditional equation per equation algorithm described in <span class="citation" data-cites="kastner_sparse_2020">Kastner and Huber (<a href="#ref-kastner_sparse_2020" role="doc-biblioref">2020</a>)</span>. Using default settings, <strong>this algorithm is of complexity <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>M</mi><mn>4</mn></msup><msup><mi>p</mi><mn>3</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(M^4p^3)</annotation></semantics></math></strong>, where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> is the number of time series and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math> the number of lags.</p>
</section><section class="level2"><h2 id="factor-specifcation-in-huge-dimensions">Factor specifcation in huge dimensions<a class="anchor" aria-label="anchor" href="#factor-specifcation-in-huge-dimensions"></a>
</h2>
<p>In the aforementioned paper it is also demonstrated that for VARs in huge dimensions, within the conditional equation per equation algorithm, the algorithm of <span class="citation" data-cites="bhattacharyaFastSamplingGaussian2016">Bhattacharya, Chakraborty, and Mallick (<a href="#ref-bhattacharyaFastSamplingGaussian2016" role="doc-biblioref">2016</a>)</span> for sampling from high-dimensional Gaussian distributions can be exploited to further speed up computations. This feature is invoked by setting <code><a href="../reference/bvar.html">bvar()</a></code>’s argument <code>expert_huge = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod_f2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvar.html">bvar</a></span><span class="op">(</span><span class="va">Y</span>, draws <span class="op">=</span> <span class="fl">50L</span>, burnin <span class="op">=</span> <span class="fl">5L</span>, prior_sigma <span class="op">=</span> <span class="va">prior_sigma_f</span>,</span>
<span>               expert_huge <span class="op">=</span> <span class="cn">TRUE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Using this sampler-configuration, <strong>the algorithm is of complexity <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>p</mi><msup><mi>M</mi><mn>2</mn></msup><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(pM^2n^2)</annotation></semantics></math></strong>, where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>n</mi><annotation encoding="application/x-tex">n</annotation></semantics></math> is the number of observations. Therefore, it can be expected that setting <code>expert_huge = TRUE</code> <strong>only speeds up computations in scenarios where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>M</mi><mo>&gt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">pM &gt; n</annotation></semantics></math></strong>, i.e. the number of VAR coefficients per equations exceeds the number of observations.</p>
</section><section class="level2"><h2 id="cholesky-specification">Cholesky specification<a class="anchor" aria-label="anchor" href="#cholesky-specification"></a>
</h2>
<p>The Cholesky structure on the errors is achieved by setting <code><a href="../reference/specify_prior_sigma.html">specify_prior_sigma()</a></code>’s argument <code>type = "cholesky"</code>. The following code snippet is a minimal working example of estimating a VAR featuring stochastic volatility with a Cholesky structure on the errors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Estimate a VAR with a Cholesky structure on the errors</span></span>
<span><span class="va">prior_sigma_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/specify_prior_sigma.html">specify_prior_sigma</a></span><span class="op">(</span><span class="va">Y</span>, type <span class="op">=</span> <span class="st">"cholesky"</span><span class="op">)</span></span>
<span><span class="va">mod_c</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvar.html">bvar</a></span><span class="op">(</span><span class="va">Y</span>, draws <span class="op">=</span> <span class="fl">50L</span>, burnin <span class="op">=</span> <span class="fl">5L</span>, prior_sigma <span class="op">=</span> <span class="va">prior_sigma_c</span>,</span>
<span>            quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<p>For the Cholesky specification bayesianVARs implements the correct triangular algorithm described in <span class="citation" data-cites="carrieroCorrigendumLargeBayesian2022">Carriero et al. (<a href="#ref-carrieroCorrigendumLargeBayesian2022" role="doc-biblioref">2022</a>)</span>. <strong>This algorithm is of complexity <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>M</mi><mn>4</mn></msup><msup><mi>p</mi><mn>3</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">O(M^4p^3)</annotation></semantics></math></strong>, i.e. it has the same complexity like the standard conditional equation per equation algorithm for the factor specification, see <a href="#factor-specification">Factor specification</a>.</p>
</section><section class="level2"><h2 id="empirical-demonstration">Empirical demonstration<a class="anchor" aria-label="anchor" href="#empirical-demonstration"></a>
</h2>
<!-- ::: {.callout-note} -->
<!-- The estimates of computation time are based on an Intel<sup>&reg;</sup> Core<sup>&trade;</sup> i7-10610U processor using one core in combination with a standard single-threaded R installation. -->
<!-- ::: -->
<p>The following code chunk runs the posterior sampling algorithm and records computation times for all sampling algorithms considering all combinations of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">M=50</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">n=100</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>t</mi><mi>o</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">stochastic</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>o</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mi>T</mi><mi>R</mi><mi>U</mi><mi>E</mi><mo>,</mo><mi>F</mi><mi>A</mi><mi>L</mi><mi>S</mi><mi>E</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">volatility \in \{TRUE, FALSE\}</annotation></semantics></math>, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>,</mo><mi>…</mi><mo>,</mo><mn>5</mn><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">p \in \{1,\dots,5\}</annotation></semantics></math>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">ps</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span> <span class="co"># lags</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">50L</span> <span class="co"># number time series</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">100L</span> <span class="co"># number of observations for estimation</span></span>
<span><span class="va">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>,<span class="fl">50L</span><span class="op">)</span> <span class="co"># number of factors</span></span>
<span><span class="va">huge</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># expert_huge algorithm</span></span>
<span><span class="va">svs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># stochastic volatility</span></span>
<span><span class="va">factor_combinations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>p <span class="op">=</span> <span class="va">ps</span>, M <span class="op">=</span> <span class="va">M</span>, n <span class="op">=</span> <span class="va">n</span>, r <span class="op">=</span> <span class="va">factors</span>,</span>
<span>                                expert_huge <span class="op">=</span> <span class="va">huge</span>, sv <span class="op">=</span> <span class="va">svs</span>, type <span class="op">=</span> <span class="st">"factor"</span>,</span>
<span>                                stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">cholesky_combinations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>p <span class="op">=</span> <span class="va">ps</span>, M <span class="op">=</span> <span class="va">M</span>, n <span class="op">=</span> <span class="va">n</span>, r <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                                expert_huge <span class="op">=</span> <span class="cn">FALSE</span>, sv <span class="op">=</span> <span class="va">svs</span>, type <span class="op">=</span> <span class="st">"cholesky"</span>,</span>
<span>                                stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">all_combinations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">factor_combinations</span>, <span class="va">cholesky_combinations</span><span class="op">)</span></span>
<span><span class="va">Tobs</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">n</span> <span class="op">+</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">p</span> <span class="co"># number of total observations</span></span>
<span><span class="va">all_combinations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">all_combinations</span>, Tobs <span class="op">=</span> <span class="va">Tobs</span>, user_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">all_combinations</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">p</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">M</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">M</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">Tob</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">Tobs</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">r</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">r</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">expert_huge</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">expert_huge</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">type</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">type</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span>  <span class="va">sv</span> <span class="op">&lt;-</span> <span class="va">all_combinations</span><span class="op">$</span><span class="va">sv</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span></span>
<span>  <span class="co"># simulate data</span></span>
<span>  <span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">Tob</span><span class="op">*</span><span class="va">M</span><span class="op">)</span>, <span class="va">Tob</span>, <span class="va">M</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="fl">1</span><span class="op">:</span><span class="va">M</span><span class="op">)</span></span>
<span>  <span class="co"># prior configuration</span></span>
<span>  <span class="va">prior_sigma</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/specify_prior_sigma.html">specify_prior_sigma</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">Y</span>, type <span class="op">=</span> <span class="va">type</span>, factor_factors <span class="op">=</span> <span class="va">r</span>,</span>
<span>                                     factor_heteroskedastic <span class="op">=</span> <span class="va">sv</span>,</span>
<span>                                     cholesky_heteroscedastic <span class="op">=</span> <span class="va">sv</span>,</span>
<span>                                     quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="co"># generate posterior draws</span></span>
<span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bvar.html">bvar</a></span><span class="op">(</span><span class="va">Y</span>, lags <span class="op">=</span> <span class="va">p</span>, draws <span class="op">=</span> <span class="fl">10L</span>, burnin <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>                            prior_intercept <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            prior_sigma <span class="op">=</span> <span class="va">prior_sigma</span>,</span>
<span>       expert_huge <span class="op">=</span> <span class="va">expert_huge</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="co"># store user time</span></span>
<span>  <span class="va">all_combinations</span><span class="op">$</span><span class="va">user_time</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">[[</span><span class="st">"bench"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="st">"user.self"</span><span class="op">]</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<p><strong>The estimates of computation time are based on an Intel</strong><sup>®</sup><strong>Core</strong><sup>™</sup><strong>i7-10610U processor using one core in combination with a standard single-threaded R installation</strong>.</p>
<p><a href="#fig-comp_times" class="quarto-xref">Figure 1</a>, which can be replicated with the following code chunk, depicts the computation time of generating 10 draws from the joint posterior distribution of all parameters and latent variables. Interestingly, the additional cost when moving from a homoscedastic model (constant error variance-covariance matrix) to a heteroscedastic model (time varying error variance-covariance matrix featuring stochastic volatility), or in case of the factor specification when moving from a model with 1 factor to a model with 50 factors, appears to be negligible.</p>
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">type0</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"factor"</span>, <span class="st">"cholesky"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">all_combinations</span>, <span class="va">type</span> <span class="op">==</span> <span class="va">type0</span> <span class="op">&amp;</span> <span class="va">sv</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">p</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">user_time</span><span class="op">)</span>,</span>
<span>     type<span class="op">=</span><span class="st">"n"</span>, xlab <span class="op">=</span> <span class="st">"p"</span>, ylab <span class="op">=</span> <span class="st">"time in seconds"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">type0</span><span class="op">==</span><span class="st">"cholesky"</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">p</span>,</span>
<span>          <span class="va">tmp</span><span class="op">$</span><span class="va">user_time</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>      <span class="kw">for</span><span class="op">(</span><span class="va">expert</span> <span class="kw">in</span> <span class="va">huge</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="kw">for</span><span class="op">(</span><span class="va">rr</span> <span class="kw">in</span> <span class="va">factors</span><span class="op">)</span><span class="op">{</span></span>
<span>          <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">r</span> <span class="op">==</span> <span class="va">rr</span> <span class="op">&amp;</span> <span class="va">expert_huge</span> <span class="op">==</span> <span class="va">expert</span> <span class="op">&amp;</span> <span class="va">type</span> <span class="op">==</span> <span class="st">"factor"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">user_time</span>, <span class="va">r</span> <span class="op">==</span> <span class="va">rr</span> <span class="op">&amp;</span> <span class="va">expert_huge</span> <span class="op">==</span> <span class="va">expert</span> <span class="op">&amp;</span> <span class="va">type</span> <span class="op">==</span> <span class="st">"factor"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>          col <span class="op">=</span> <span class="va">expert</span> <span class="op">+</span> <span class="fl">1L</span>, lty <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">rr</span><span class="op">==</span><span class="fl">1L</span><span class="op">)</span> <span class="fl">1</span> <span class="kw">else</span> <span class="fl">2</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>      <span class="op">}</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>v <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="va">M</span>, col <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expert_huge &amp; 1 factor"</span>, <span class="st">"expert_huge &amp; 50 factors"</span>, </span>
<span>                                   <span class="st">"!expert_huge &amp; 1 factor"</span>, <span class="st">"!expert_huge &amp; 50 factors"</span><span class="op">)</span>, </span>
<span>             col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span><span class="op">)</span>,</span>
<span>             lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span><span class="op">)</span>, bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">type0</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"factor"</span>, <span class="st">"cholesky"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">all_combinations</span>, <span class="va">type</span> <span class="op">==</span> <span class="va">type0</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">p</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>     type<span class="op">=</span><span class="st">"n"</span>, xlab <span class="op">=</span> <span class="st">"p"</span>, ylab <span class="op">=</span> <span class="st">"relative change"</span><span class="op">)</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">type0</span> <span class="op">==</span> <span class="st">"cholesky"</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">tmp_sv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="va">sv</span> <span class="op">==</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="va">tmp_nosv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="va">sv</span> <span class="op">==</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="va">thediff</span> <span class="op">&lt;-</span> <span class="va">tmp_sv</span><span class="op">$</span><span class="va">user_time</span> <span class="op">-</span> <span class="va">tmp_nosv</span><span class="op">$</span><span class="va">user_time</span></span>
<span>    <span class="va">normalizer</span> <span class="op">&lt;-</span> <span class="va">tmp_nosv</span><span class="op">$</span><span class="va">user_time</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">tmp_sv</span><span class="op">$</span><span class="va">p</span>, <span class="va">thediff</span><span class="op">/</span><span class="va">normalizer</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>    <span class="kw">for</span><span class="op">(</span><span class="va">expert</span> <span class="kw">in</span> <span class="va">huge</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="kw">for</span><span class="op">(</span><span class="va">rr</span> <span class="kw">in</span> <span class="va">factors</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="va">tmp_sv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="va">sv</span> <span class="op">==</span> <span class="cn">TRUE</span> <span class="op">&amp;</span> <span class="va">r</span> <span class="op">==</span> <span class="va">rr</span> <span class="op">&amp;</span> <span class="va">expert_huge</span> <span class="op">==</span> <span class="va">expert</span><span class="op">)</span></span>
<span>        <span class="va">tmp_nosv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="va">sv</span> <span class="op">==</span> <span class="cn">FALSE</span> <span class="op">&amp;</span> <span class="va">r</span> <span class="op">==</span> <span class="va">rr</span> <span class="op">&amp;</span> <span class="va">expert_huge</span> <span class="op">==</span> <span class="va">expert</span><span class="op">)</span></span>
<span>        <span class="va">thediff</span> <span class="op">&lt;-</span> <span class="va">tmp_sv</span><span class="op">$</span><span class="va">user_time</span> <span class="op">-</span> <span class="va">tmp_nosv</span><span class="op">$</span><span class="va">user_time</span></span>
<span>        <span class="va">normalizer</span> <span class="op">&lt;-</span> <span class="va">tmp_nosv</span><span class="op">$</span><span class="va">user_time</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">tmp_sv</span><span class="op">$</span><span class="va">p</span>, <span class="va">thediff</span><span class="op">/</span><span class="va">normalizer</span>,</span>
<span>          col <span class="op">=</span> <span class="va">expert</span> <span class="op">+</span> <span class="fl">1L</span>, lty <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">rr</span><span class="op">==</span><span class="fl">1L</span><span class="op">)</span> <span class="fl">1</span> <span class="kw">else</span> <span class="fl">2</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expert_huge &amp; 1 factor"</span>, <span class="st">"expert_huge &amp; 50 factors"</span>, </span>
<span>                                 <span class="st">"!expert_huge &amp; 1 factor"</span>, <span class="st">"!expert_huge &amp; 50 factors"</span><span class="op">)</span>, </span>
<span>           col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span><span class="op">)</span>,</span>
<span>             lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></span><span class="op">(</span>h<span class="op">=</span><span class="fl">0</span>, col <span class="op">=</span> <span class="st">"lightgrey"</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
<div id="fig-comp_times" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig"><div aria-describedby="fig-comp_times-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-comp_times" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-comp_times-1" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-subfloat-fig"><div aria-describedby="fig-comp_times-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scalability-vignette_files/figure-html/fig-comp_times-1.png" data-ref-parent="fig-comp_times" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-comp_times-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Factor stochastic volatility specification
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-comp_times" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-comp_times-2" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-subfloat-fig"><div aria-describedby="fig-comp_times-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scalability-vignette_files/figure-html/fig-comp_times-2.png" data-ref-parent="fig-comp_times" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-comp_times-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Cholesky stochastic volatility specification
</figcaption></figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-comp_times" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-comp_times-3" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-subfloat-fig"><div aria-describedby="fig-comp_times-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scalability-vignette_files/figure-html/fig-comp_times-3.png" data-ref-parent="fig-comp_times" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-comp_times-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Factor specification: Relative change when moving from homoscedasticity to heteroscdedasticity
</figcaption></figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-comp_times" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-comp_times-4" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-subfloat-fig"><div aria-describedby="fig-comp_times-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="scalability-vignette_files/figure-html/fig-comp_times-4.png" data-ref-parent="fig-comp_times" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-comp_times-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) Cholesky specification: Relative change when moving from homoscedasticity to heteroscdedasticity
</figcaption></figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-comp_times-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 1: Computing times for generating 10 draws from the joint posterior distribution of all parameters and latent variables. The grey vertical line in the top left plot indicates the scenario where ‘expert_huge’ and ‘!expert_huge’ are expected to have more or less equal running times. The plots in the bottom panel depict the relative change when moving from a homoscedastic VAR (constant error variance-covariance matrix w.r.t. time) to a heteroscedastic VAR (time varying error variance-covariance matrix featuring stochastic volatility).
</figcaption></figure>
</div>
</section><section class="level2"><h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bhattacharyaFastSamplingGaussian2016" class="csl-entry" role="listitem">
Bhattacharya, Anirban, Antik Chakraborty, and Bani K. Mallick. 2016. <span>“Fast Sampling with <span>Gaussian</span> Scale Mixture Priors in High-Dimensional Regression.”</span> <em>Biometrika</em> 103 (4): 985–91. <a href="https://doi.org/10.1093/biomet/asw042" class="external-link">https://doi.org/10.1093/biomet/asw042</a>.
</div>
<div id="ref-carrieroCorrigendumLargeBayesian2022" class="csl-entry" role="listitem">
Carriero, Andrea, Joshua Chan, Todd E. Clark, and Massimiliano Marcellino. 2022. <span>“Corrigendum to <span>‘Large Bayesian Vector Autoregressions with Stochastic Volatility and Non-Conjugate Priors’</span> [j. Econometrics 212 (1) (2019) 137–154].”</span> <em>Journal of Econometrics</em> 227 (2): 506–12. <a href="https://doi.org/10.1016/j.jeconom.2021.11.010" class="external-link">https://doi.org/10.1016/j.jeconom.2021.11.010</a>.
</div>
<div id="ref-kastner_sparse_2020" class="csl-entry" role="listitem">
Kastner, Gregor, and Florian Huber. 2020. <span>“Sparse <span>Bayesian</span> Vector Autoregressions in Huge Dimensions.”</span> <em>Journal of Forecasting</em> 39 (7): 1142--1165. <a href="https://doi.org/10.1002/for.2680" class="external-link">https://doi.org/10.1002/for.2680</a>.
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Luis Gruber, Stefan Haan, Gregor Kastner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
